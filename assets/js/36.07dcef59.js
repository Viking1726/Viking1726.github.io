(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{543:function(s,t,a){"use strict";a.r(t);var n={props:["slot-key"],mounted:function(){this.$nextTick(function(){this.$vuepress.$emit("AsyncMarkdownContentMounted",this.slotKey)})}},e=a(4),r=Object(e.a)(n,function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.slotKey}},[a("h1",{attrs:{id:"mysql-片段"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mysql-片段","aria-hidden":"true"}},[s._v("#")]),s._v(" MYSQL 片段")]),s._v(" "),a("h2",{attrs:{id:"根据条件去除数据库重复数据"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#根据条件去除数据库重复数据","aria-hidden":"true"}},[s._v("#")]),s._v(" 根据条件去除数据库重复数据")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[s._v("delete")]),s._v("\n"),a("span",{attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),a("span",{attrs:{class:"token string"}},[s._v('"table"')]),s._v("\n"),a("span",{attrs:{class:"token keyword"}},[s._v("where")]),s._v(" "),a("span",{attrs:{class:"token string"}},[s._v('"column"')]),s._v(" "),a("span",{attrs:{class:"token operator"}},[s._v("in")]),s._v("\n      "),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token keyword"}},[s._v("select")]),s._v(" t"),a("span",{attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{attrs:{class:"token string"}},[s._v('"column"')]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n      "),a("span",{attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),a("span",{attrs:{class:"token string"}},[s._v('"column"')]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),a("span",{attrs:{class:"token string"}},[s._v('"table"')]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("group")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("by")]),s._v(" "),a("span",{attrs:{class:"token string"}},[s._v('"column"')]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("having")]),s._v(" "),a("span",{attrs:{class:"token function"}},[s._v("count")]),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token operator"}},[s._v("*")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{attrs:{class:"token number"}},[s._v("1")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" t"),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])])]),a("h2",{attrs:{id:"替换字段特殊字符"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#替换字段特殊字符","aria-hidden":"true"}},[s._v("#")]),s._v(" 替换字段特殊字符")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[s._v("update")]),s._v(" "),a("span",{attrs:{class:"token string"}},[s._v('"table"')]),s._v("\n"),a("span",{attrs:{class:"token keyword"}},[s._v("set")]),s._v(" "),a("span",{attrs:{class:"token string"}},[s._v('"column"')]),s._v(" "),a("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("replace")]),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token string"}},[s._v('"column"')]),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{attrs:{class:"token string"}},[s._v("'/'")]),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{attrs:{class:"token string"}},[s._v("''")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n")])])]),a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[s._v("特殊符号")]),s._v(" "),a("p",[s._v("char(10):  换行符"),a("br"),s._v("\nchar(13):  回车键")])]),s._v(" "),a("h2",{attrs:{id:"截取合并"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#截取合并","aria-hidden":"true"}},[s._v("#")]),s._v(" 截取合并")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[s._v("update")]),s._v(" "),a("span",{attrs:{class:"token string"}},[s._v('"table"')]),s._v("\n"),a("span",{attrs:{class:"token keyword"}},[s._v("set")]),s._v(" "),a("span",{attrs:{class:"token string"}},[s._v('"column"')]),s._v(" "),a("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" concat"),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("substring_index"),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token string"}},[s._v('"column"')]),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{attrs:{class:"token string"}},[s._v("'/'")]),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{attrs:{class:"token number"}},[s._v("3")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" substring_index"),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token string"}},[s._v('"column"')]),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{attrs:{class:"token string"}},[s._v("'/'")]),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{attrs:{class:"token operator"}},[s._v("-")]),a("span",{attrs:{class:"token number"}},[s._v("1")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),a("span",{attrs:{class:"token comment"}},[s._v("//concat 合并结果 substring_index 分割截取")]),s._v("\n"),a("span",{attrs:{class:"token comment"}},[s._v('//若"column"的值为  aaaa/bbbb/cccc/dddd  ')]),s._v("\n"),a("span",{attrs:{class:"token comment"}},[s._v("//substring_index(\"column\", '/', 3) = aaaa/bbbb/cccc ")]),s._v("\n"),a("span",{attrs:{class:"token comment"}},[s._v("//substring_index(\"column\", '/', -1) = dddd ")]),s._v("\n"),a("span",{attrs:{class:"token comment"}},[s._v("//concat(substring_index(\"column\", '/', 3), substring_index(\"column\", '/', -1)) = aaaa/bbbb/ccccdddd")]),s._v("\n")])])]),a("h2",{attrs:{id:"locate"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#locate","aria-hidden":"true"}},[s._v("#")]),s._v(" locate")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[s._v("LOCATE"),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("substr"),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("str"),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" \n"),a("span",{attrs:{class:"token comment"}},[s._v("//返回子串 substr 在字符串 str 中第一次出现的位置。如果子串 substr 在 str 中不存在，返回值为 0")]),s._v("\nLOCATE"),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("substr"),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("str"),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("pos"),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" \n"),a("span",{attrs:{class:"token comment"}},[s._v("//返回子串 substr 在字符串 str 中的第 pos 位置后第一次出现的位置。如果 substr 不在 str 中返回 0")]),s._v("\n")])])]),a("h2",{attrs:{id:"使用case-when-排序"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用case-when-排序","aria-hidden":"true"}},[s._v("#")]),s._v(" 使用case-when 排序")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),a("span",{attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("from")]),s._v(" t_msg \n"),a("span",{attrs:{class:"token keyword"}},[s._v("order")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("by")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("case")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("when")]),s._v(" locate"),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("substr"),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" str"),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("then")]),s._v(" "),a("span",{attrs:{class:"token number"}},[s._v("1")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("else")]),s._v(" "),a("span",{attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("end")]),s._v("  "),a("span",{attrs:{class:"token comment"}},[s._v("// desc | asc")]),s._v("\n")])])])])},[],!1,null,null,null);r.options.__file="mysql.md";t.default=r.exports}}]);